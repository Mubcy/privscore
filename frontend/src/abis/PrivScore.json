{
  "_format": "hh-sol-artifact-1",
  "contractName": "PrivScore",
  "sourceName": "contracts/PrivScore.sol",
  "abi": [
    {
      "inputs": [],
      "name": "InvalidKMSSignatures",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ZamaProtocolUnsupported",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "modelId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "encPayload",
          "type": "bytes"
        }
      ],
      "name": "MetricsSubmitted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "bytes32[]",
          "name": "handlesList",
          "type": "bytes32[]"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "abiEncodedCleartexts",
          "type": "bytes"
        }
      ],
      "name": "PublicDecryptionVerified",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "modelId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "score",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "proof",
          "type": "bytes"
        }
      ],
      "name": "ScorePublished",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "confidentialProtocolId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "encryptedPayload",
      "outputs": [
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "modelId",
          "type": "uint256"
        }
      ],
      "name": "getEncryptedPayload",
      "outputs": [
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "modelId",
          "type": "uint256"
        },
        {
          "internalType": "bytes32[]",
          "name": "handles",
          "type": "bytes32[]"
        },
        {
          "internalType": "uint256",
          "name": "score",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "decryptionProof",
          "type": "bytes"
        }
      ],
      "name": "submitDecryptedScore",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "modelId",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "encPayload",
          "type": "bytes"
        }
      ],
      "name": "submitEncryptedMetrics",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60806040523480156200001157600080fd5b5062000032620000266200003860201b60201c565b620000df60201b60201c565b6200042a565b62000042620003c7565b6001460362000063576200005b620000f360201b60201c565b9050620000dc565b62aa36a7460362000086576200007e6200016260201b60201c565b9050620000db565b617a694603620000a857620000a06200020a60201b60201c565b9050620000da565b6040517f73cac13b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5b5b90565b620000f081620002b260201b60201c565b50565b620000fd620003c7565b6040518060600160405280600073ffffffffffffffffffffffffffffffffffffffff168152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600073ffffffffffffffffffffffffffffffffffffffff16815250905090565b6200016c620003c7565b604051806060016040528073f0ffdc93b7e186bc2f8cb3daa75d86d1930a433d73ffffffffffffffffffffffffffffffffffffffff1681526020017392c920834ec8941d2c77d188936e1f7a6f49c12773ffffffffffffffffffffffffffffffffffffffff16815260200173be0e383937d564d7ff0bc3b46c51f0bf8d5c311a73ffffffffffffffffffffffffffffffffffffffff16815250905090565b62000214620003c7565b60405180606001604052807350157cffd6bbfa2dece204a89ec419c23ef5755d73ffffffffffffffffffffffffffffffffffffffff16815260200173e3a9105a3a932253a70f126eb1e3b589c643dd2473ffffffffffffffffffffffffffffffffffffffff16815260200173901f8942346f7ab3a01f6d7613119bca447bb03073ffffffffffffffffffffffffffffffffffffffff16815250905090565b6000620002c46200039f60201b60201c565b905081600001518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081602001518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081604001518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050565b60007f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e4649700905090565b6040518060600160405280600073ffffffffffffffffffffffffffffffffffffffff168152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600073ffffffffffffffffffffffffffffffffffffffff1681525090565b610fdb806200043a6000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c806302e230f61461005c57806355dc2986146100785780637e9abf4b146100a85780638927b030146100d8578063f9ec9480146100f6575b600080fd5b6100766004803603810190610071919061076f565b610112565b005b610092600480360381019061008d91906107e3565b6101c8565b60405161009f91906108b3565b60405180910390f35b6100c260048036038101906100bd91906107e3565b6102aa565b6040516100cf91906108b3565b60405180910390f35b6100e0610357565b6040516100ed91906108e4565b60405180910390f35b610110600480360381019061010b9190610955565b610366565b005b81816000808773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008681526020019081526020016000209182610170929190610c57565b50828473ffffffffffffffffffffffffffffffffffffffff167f7ca543f3942733336bac087ac91d949066b5407ceed454bbcd72d7968597da6084846040516101ba929190610d63565b60405180910390a350505050565b60606000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000838152602001908152602001600020805461022490610a7a565b80601f016020809104026020016040519081016040528092919081815260200182805461025090610a7a565b801561029d5780601f106102725761010080835404028352916020019161029d565b820191906000526020600020905b81548152906001019060200180831161028057829003601f168201915b5050505050905092915050565b60006020528160005260406000206020528060005260406000206000915091505080546102d690610a7a565b80601f016020809104026020016040519081016040528092919081815260200182805461030290610a7a565b801561034f5780601f106103245761010080835404028352916020019161034f565b820191906000526020600020905b81548152906001019060200180831161033257829003601f168201915b505050505081565b6000610361610477565b905090565b6000836040516020016103799190610da8565b604051602081830303815290604052905061041a868680806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f820116905080830192505050505050508285858080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050506104c9565b868873ffffffffffffffffffffffffffffffffffffffff167f10e471c9bb893185796e047ca6bdaf5a511e9adac900f22e12cd3cb26aa51c5386868660405161046593929190610dc3565b60405180910390a35050505050505050565b6000600146036104905761048961054e565b90506104c6565b62aa36a746036104a9576104a2610557565b90506104c6565b617a6946036104c1576104ba610561565b90506104c6565b600090505b90565b60006104d6848484610589565b90508061050f576040517fcf6c44e900000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b7fc6366bab028b8d033cb362cfd1f2f3457ef4e92fc738b6788b90d5a7846367a08484604051610540929190610ebd565b60405180910390a150505050565b60006001905090565b6000612711905090565b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff905090565b600080610594610644565b90508060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166378542ead8686866040518463ffffffff1660e01b81526004016105f793929190610ef4565b6020604051808303816000875af1158015610616573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061063a9190610f78565b9150509392505050565b60007f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e4649700905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006106a182610676565b9050919050565b6106b181610696565b81146106bc57600080fd5b50565b6000813590506106ce816106a8565b92915050565b6000819050919050565b6106e7816106d4565b81146106f257600080fd5b50565b600081359050610704816106de565b92915050565b600080fd5b600080fd5b600080fd5b60008083601f84011261072f5761072e61070a565b5b8235905067ffffffffffffffff81111561074c5761074b61070f565b5b60208301915083600182028301111561076857610767610714565b5b9250929050565b600080600080606085870312156107895761078861066c565b5b6000610797878288016106bf565b94505060206107a8878288016106f5565b935050604085013567ffffffffffffffff8111156107c9576107c8610671565b5b6107d587828801610719565b925092505092959194509250565b600080604083850312156107fa576107f961066c565b5b6000610808858286016106bf565b9250506020610819858286016106f5565b9150509250929050565b600081519050919050565b600082825260208201905092915050565b60005b8381101561085d578082015181840152602081019050610842565b60008484015250505050565b6000601f19601f8301169050919050565b600061088582610823565b61088f818561082e565b935061089f81856020860161083f565b6108a881610869565b840191505092915050565b600060208201905081810360008301526108cd818461087a565b905092915050565b6108de816106d4565b82525050565b60006020820190506108f960008301846108d5565b92915050565b60008083601f8401126109155761091461070a565b5b8235905067ffffffffffffffff8111156109325761093161070f565b5b60208301915083602082028301111561094e5761094d610714565b5b9250929050565b600080600080600080600060a0888a0312156109745761097361066c565b5b60006109828a828b016106bf565b97505060206109938a828b016106f5565b965050604088013567ffffffffffffffff8111156109b4576109b3610671565b5b6109c08a828b016108ff565b955095505060606109d38a828b016106f5565b935050608088013567ffffffffffffffff8111156109f4576109f3610671565b5b610a008a828b01610719565b925092505092959891949750929550565b600082905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610a9257607f821691505b602082108103610aa557610aa4610a4b565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610b0d7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610ad0565b610b178683610ad0565b95508019841693508086168417925050509392505050565b6000819050919050565b6000610b54610b4f610b4a846106d4565b610b2f565b6106d4565b9050919050565b6000819050919050565b610b6e83610b39565b610b82610b7a82610b5b565b848454610add565b825550505050565b600090565b610b97610b8a565b610ba2818484610b65565b505050565b5b81811015610bc657610bbb600082610b8f565b600181019050610ba8565b5050565b601f821115610c0b57610bdc81610aab565b610be584610ac0565b81016020851015610bf4578190505b610c08610c0085610ac0565b830182610ba7565b50505b505050565b600082821c905092915050565b6000610c2e60001984600802610c10565b1980831691505092915050565b6000610c478383610c1d565b9150826002028217905092915050565b610c618383610a11565b67ffffffffffffffff811115610c7a57610c79610a1c565b5b610c848254610a7a565b610c8f828285610bca565b6000601f831160018114610cbe5760008415610cac578287013590505b610cb68582610c3b565b865550610d1e565b601f198416610ccc86610aab565b60005b82811015610cf457848901358255600182019150602085019450602081019050610ccf565b86831015610d115784890135610d0d601f891682610c1d565b8355505b6001600288020188555050505b50505050505050565b82818337600083830152505050565b6000610d42838561082e565b9350610d4f838584610d27565b610d5883610869565b840190509392505050565b60006020820190508181036000830152610d7e818486610d36565b90509392505050565b6000819050919050565b610da2610d9d826106d4565b610d87565b82525050565b6000610db48284610d91565b60208201915081905092915050565b6000604082019050610dd860008301866108d5565b8181036020830152610deb818486610d36565b9050949350505050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000819050919050565b610e3481610e21565b82525050565b6000610e468383610e2b565b60208301905092915050565b6000602082019050919050565b6000610e6a82610df5565b610e748185610e00565b9350610e7f83610e11565b8060005b83811015610eb0578151610e978882610e3a565b9750610ea283610e52565b925050600181019050610e83565b5085935050505092915050565b60006040820190508181036000830152610ed78185610e5f565b90508181036020830152610eeb818461087a565b90509392505050565b60006060820190508181036000830152610f0e8186610e5f565b90508181036020830152610f22818561087a565b90508181036040830152610f36818461087a565b9050949350505050565b60008115159050919050565b610f5581610f40565b8114610f6057600080fd5b50565b600081519050610f7281610f4c565b92915050565b600060208284031215610f8e57610f8d61066c565b5b6000610f9c84828501610f63565b9150509291505056fea264697066735822122086b6ea1ee06463b8087dc9372cdf6537bb239b60339de2c734065e200491eaa064736f6c63430008180033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100575760003560e01c806302e230f61461005c57806355dc2986146100785780637e9abf4b146100a85780638927b030146100d8578063f9ec9480146100f6575b600080fd5b6100766004803603810190610071919061076f565b610112565b005b610092600480360381019061008d91906107e3565b6101c8565b60405161009f91906108b3565b60405180910390f35b6100c260048036038101906100bd91906107e3565b6102aa565b6040516100cf91906108b3565b60405180910390f35b6100e0610357565b6040516100ed91906108e4565b60405180910390f35b610110600480360381019061010b9190610955565b610366565b005b81816000808773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008681526020019081526020016000209182610170929190610c57565b50828473ffffffffffffffffffffffffffffffffffffffff167f7ca543f3942733336bac087ac91d949066b5407ceed454bbcd72d7968597da6084846040516101ba929190610d63565b60405180910390a350505050565b60606000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000838152602001908152602001600020805461022490610a7a565b80601f016020809104026020016040519081016040528092919081815260200182805461025090610a7a565b801561029d5780601f106102725761010080835404028352916020019161029d565b820191906000526020600020905b81548152906001019060200180831161028057829003601f168201915b5050505050905092915050565b60006020528160005260406000206020528060005260406000206000915091505080546102d690610a7a565b80601f016020809104026020016040519081016040528092919081815260200182805461030290610a7a565b801561034f5780601f106103245761010080835404028352916020019161034f565b820191906000526020600020905b81548152906001019060200180831161033257829003601f168201915b505050505081565b6000610361610477565b905090565b6000836040516020016103799190610da8565b604051602081830303815290604052905061041a868680806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f820116905080830192505050505050508285858080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050506104c9565b868873ffffffffffffffffffffffffffffffffffffffff167f10e471c9bb893185796e047ca6bdaf5a511e9adac900f22e12cd3cb26aa51c5386868660405161046593929190610dc3565b60405180910390a35050505050505050565b6000600146036104905761048961054e565b90506104c6565b62aa36a746036104a9576104a2610557565b90506104c6565b617a6946036104c1576104ba610561565b90506104c6565b600090505b90565b60006104d6848484610589565b90508061050f576040517fcf6c44e900000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b7fc6366bab028b8d033cb362cfd1f2f3457ef4e92fc738b6788b90d5a7846367a08484604051610540929190610ebd565b60405180910390a150505050565b60006001905090565b6000612711905090565b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff905090565b600080610594610644565b90508060020160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166378542ead8686866040518463ffffffff1660e01b81526004016105f793929190610ef4565b6020604051808303816000875af1158015610616573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061063a9190610f78565b9150509392505050565b60007f9e7b61f58c47dc699ac88507c4f5bb9f121c03808c5676a8078fe583e4649700905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006106a182610676565b9050919050565b6106b181610696565b81146106bc57600080fd5b50565b6000813590506106ce816106a8565b92915050565b6000819050919050565b6106e7816106d4565b81146106f257600080fd5b50565b600081359050610704816106de565b92915050565b600080fd5b600080fd5b600080fd5b60008083601f84011261072f5761072e61070a565b5b8235905067ffffffffffffffff81111561074c5761074b61070f565b5b60208301915083600182028301111561076857610767610714565b5b9250929050565b600080600080606085870312156107895761078861066c565b5b6000610797878288016106bf565b94505060206107a8878288016106f5565b935050604085013567ffffffffffffffff8111156107c9576107c8610671565b5b6107d587828801610719565b925092505092959194509250565b600080604083850312156107fa576107f961066c565b5b6000610808858286016106bf565b9250506020610819858286016106f5565b9150509250929050565b600081519050919050565b600082825260208201905092915050565b60005b8381101561085d578082015181840152602081019050610842565b60008484015250505050565b6000601f19601f8301169050919050565b600061088582610823565b61088f818561082e565b935061089f81856020860161083f565b6108a881610869565b840191505092915050565b600060208201905081810360008301526108cd818461087a565b905092915050565b6108de816106d4565b82525050565b60006020820190506108f960008301846108d5565b92915050565b60008083601f8401126109155761091461070a565b5b8235905067ffffffffffffffff8111156109325761093161070f565b5b60208301915083602082028301111561094e5761094d610714565b5b9250929050565b600080600080600080600060a0888a0312156109745761097361066c565b5b60006109828a828b016106bf565b97505060206109938a828b016106f5565b965050604088013567ffffffffffffffff8111156109b4576109b3610671565b5b6109c08a828b016108ff565b955095505060606109d38a828b016106f5565b935050608088013567ffffffffffffffff8111156109f4576109f3610671565b5b610a008a828b01610719565b925092505092959891949750929550565b600082905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610a9257607f821691505b602082108103610aa557610aa4610a4b565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610b0d7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610ad0565b610b178683610ad0565b95508019841693508086168417925050509392505050565b6000819050919050565b6000610b54610b4f610b4a846106d4565b610b2f565b6106d4565b9050919050565b6000819050919050565b610b6e83610b39565b610b82610b7a82610b5b565b848454610add565b825550505050565b600090565b610b97610b8a565b610ba2818484610b65565b505050565b5b81811015610bc657610bbb600082610b8f565b600181019050610ba8565b5050565b601f821115610c0b57610bdc81610aab565b610be584610ac0565b81016020851015610bf4578190505b610c08610c0085610ac0565b830182610ba7565b50505b505050565b600082821c905092915050565b6000610c2e60001984600802610c10565b1980831691505092915050565b6000610c478383610c1d565b9150826002028217905092915050565b610c618383610a11565b67ffffffffffffffff811115610c7a57610c79610a1c565b5b610c848254610a7a565b610c8f828285610bca565b6000601f831160018114610cbe5760008415610cac578287013590505b610cb68582610c3b565b865550610d1e565b601f198416610ccc86610aab565b60005b82811015610cf457848901358255600182019150602085019450602081019050610ccf565b86831015610d115784890135610d0d601f891682610c1d565b8355505b6001600288020188555050505b50505050505050565b82818337600083830152505050565b6000610d42838561082e565b9350610d4f838584610d27565b610d5883610869565b840190509392505050565b60006020820190508181036000830152610d7e818486610d36565b90509392505050565b6000819050919050565b610da2610d9d826106d4565b610d87565b82525050565b6000610db48284610d91565b60208201915081905092915050565b6000604082019050610dd860008301866108d5565b8181036020830152610deb818486610d36565b9050949350505050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000819050919050565b610e3481610e21565b82525050565b6000610e468383610e2b565b60208301905092915050565b6000602082019050919050565b6000610e6a82610df5565b610e748185610e00565b9350610e7f83610e11565b8060005b83811015610eb0578151610e978882610e3a565b9750610ea283610e52565b925050600181019050610e83565b5085935050505092915050565b60006040820190508181036000830152610ed78185610e5f565b90508181036020830152610eeb818461087a565b90509392505050565b60006060820190508181036000830152610f0e8186610e5f565b90508181036020830152610f22818561087a565b90508181036040830152610f36818461087a565b9050949350505050565b60008115159050919050565b610f5581610f40565b8114610f6057600080fd5b50565b600081519050610f7281610f4c565b92915050565b600060208284031215610f8e57610f8d61066c565b5b6000610f9c84828501610f63565b9150509291505056fea264697066735822122086b6ea1ee06463b8087dc9372cdf6537bb239b60339de2c734065e200491eaa064736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
